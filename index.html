<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ–°åŒ—å¸‚åœ‹å°å­¸ç”Ÿäººæ•¸é ä¼°</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * { box-sizing: border-box; }
    body { margin: 0; padding: 0; }
    input[type="range"] { -webkit-appearance: none; appearance: none; }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: #10b981;
      cursor: pointer;
    }
    input[type="range"]::-moz-range-thumb {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: #10b981;
      cursor: pointer;
      border: none;
    }
    @media (max-width: 640px) {
      .year-label { font-size: 8px; }
      .year-label:nth-child(even) { display: none; }
    }
    .bar-row {
      transition: all 0.2s ease-out;
    }
    .bar-row:hover {
      transform: scale(1.02);
      background: rgba(71, 85, 105, 0.5);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      z-index: 10;
      border-radius: 6px;
    }
    .bar-row:hover .district-name {
      color: #fff;
      font-weight: 600;
    }
    .bar-row:hover .school-count {
      color: #cbd5e1;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;

    const schoolCount113 = {
      "æ¿æ©‹å€": 17, "æ–°èŠå€": 16, "æ·¡æ°´å€": 16, "ä¸‰å³½å€": 14, "ä¸‰é‡å€": 14,
      "æ–°åº—å€": 14, "æ±æ­¢å€": 12, "æ—å£å€": 11, "æ¨¹æ—å€": 11, "ç‘èŠ³å€": 11,
      "ä¸­å’Œå€": 9, "åœŸåŸå€": 8, "æ°¸å’Œå€": 8, "é¶¯æ­Œå€": 7, "å…«é‡Œå€": 5,
      "è¬é‡Œå€": 5, "è˜†æ´²å€": 5, "è²¢å¯®å€": 5, "äº”è‚¡å€": 4, "æ³°å±±å€": 4,
      "çŸ³ç¢‡å€": 4, "é‡‘å±±å€": 4, "é›™æºªå€": 4, "ä¸‰èŠå€": 3, "å¹³æºªå€": 3,
      "çƒä¾†å€": 3, "çŸ³é–€å€": 3, "æ·±å‘å€": 1, "åªæ—å€": 1
    };

    const yearlySchoolCount = {
      "æ·¡æ°´å€": {"113": 16, "114": 15, "115": 15, "116": 15, "117": 15, "118": 15, "119": 15, "120": 15, "121": 15, "122": 15, "123": 15, "124": 15, "125": 15, "126": 15, "127": 15, "128": 15, "129": 15, "130": 15},
      "æ–°åº—å€": {"113": 14, "114": 14, "115": 14, "116": 14, "117": 14, "118": 14, "119": 14, "120": 14, "121": 14, "122": 14, "123": 13, "124": 13, "125": 13, "126": 13, "127": 13, "128": 13, "129": 13, "130": 13},
      "åœŸåŸå€": {"113": 8, "114": 7, "115": 7, "116": 7, "117": 7, "118": 7, "119": 7, "120": 7, "121": 7, "122": 7, "123": 7, "124": 7, "125": 7, "126": 7, "127": 7, "128": 7, "129": 7, "130": 7},
      "æ—å£å€": {"113": 11, "114": 10, "115": 10, "116": 10, "117": 10, "118": 10, "119": 10, "120": 10, "121": 10, "122": 10, "123": 9, "124": 9, "125": 9, "126": 9, "127": 9, "128": 9, "129": 9, "130": 9},
      "æ°¸å’Œå€": {"113": 8, "114": 8, "115": 8, "116": 8, "117": 8, "118": 8, "119": 8, "120": 8, "121": 8, "122": 8, "123": 8, "124": 8, "125": 8, "126": 8, "127": 8, "128": 8, "129": 8, "130": 8},
      "å…«é‡Œå€": {"113": 5, "114": 5, "115": 5, "116": 5, "117": 5, "118": 5, "119": 5, "120": 5, "121": 5, "122": 5, "123": 5, "124": 5, "125": 5, "126": 5, "127": 5, "128": 5, "129": 5, "130": 5},
      "çƒä¾†å€": {"113": 3, "114": 3, "115": 3, "116": 3, "117": 3, "118": 3, "119": 3, "120": 3, "121": 3, "122": 3, "123": 3, "124": 3, "125": 3, "126": 3, "127": 3, "128": 3, "129": 3, "130": 3},
      "ä¸‰å³½å€": {"113": 14, "114": 14, "115": 14, "116": 14, "117": 14, "118": 14, "119": 14, "120": 14, "121": 14, "122": 14, "123": 14, "124": 13, "125": 13, "126": 13, "127": 12, "128": 12, "129": 12, "130": 12},
      "æ¿æ©‹å€": {"113": 17, "114": 17, "115": 17, "116": 17, "117": 17, "118": 17, "119": 17, "120": 17, "121": 17, "122": 17, "123": 17, "124": 17, "125": 17, "126": 17, "127": 17, "128": 17, "129": 17, "130": 17},
      "æ¨¹æ—å€": {"113": 11, "114": 11, "115": 11, "116": 11, "117": 11, "118": 11, "119": 11, "120": 11, "121": 11, "122": 11, "123": 11, "124": 11, "125": 11, "126": 11, "127": 11, "128": 11, "129": 11, "130": 11},
      "é¶¯æ­Œå€": {"113": 7, "114": 7, "115": 7, "116": 7, "117": 7, "118": 7, "119": 7, "120": 7, "121": 7, "122": 7, "123": 7, "124": 7, "125": 7, "126": 7, "127": 7, "128": 7, "129": 7, "130": 7},
      "ä¸­å’Œå€": {"113": 9, "114": 9, "115": 9, "116": 9, "117": 9, "118": 9, "119": 9, "120": 9, "121": 9, "122": 9, "123": 9, "124": 9, "125": 9, "126": 9, "127": 9, "128": 9, "129": 9, "130": 9},
      "æ±æ­¢å€": {"113": 12, "114": 12, "115": 12, "116": 12, "117": 12, "118": 12, "119": 12, "120": 12, "121": 12, "122": 12, "123": 12, "124": 12, "125": 12, "126": 12, "127": 12, "128": 12, "129": 12, "130": 12},
      "è¬é‡Œå€": {"113": 5, "114": 5, "115": 5, "116": 5, "117": 5, "118": 5, "119": 4, "120": 4, "121": 4, "122": 3, "123": 3, "124": 3, "125": 3, "126": 3, "127": 3, "128": 3, "129": 3, "130": 3},
      "é‡‘å±±å€": {"113": 4, "114": 4, "115": 4, "116": 4, "117": 4, "118": 4, "119": 4, "120": 4, "121": 4, "122": 4, "123": 3, "124": 3, "125": 3, "126": 3, "127": 3, "128": 3, "129": 3, "130": 3},
      "æ·±å‘å€": {"113": 1, "114": 1, "115": 1, "116": 1, "117": 1, "118": 1, "119": 1, "120": 1, "121": 1, "122": 1, "123": 1, "124": 1, "125": 1, "126": 1, "127": 1, "128": 1, "129": 1, "130": 1},
      "çŸ³ç¢‡å€": {"113": 4, "114": 4, "115": 4, "116": 4, "117": 4, "118": 4, "119": 4, "120": 4, "121": 4, "122": 4, "123": 4, "124": 4, "125": 4, "126": 4, "127": 4, "128": 4, "129": 4, "130": 4},
      "åªæ—å€": {"113": 1, "114": 1, "115": 1, "116": 1, "117": 1, "118": 1, "119": 1, "120": 1, "121": 1, "122": 1, "123": 1, "124": 1, "125": 1, "126": 1, "127": 1, "128": 1, "129": 1, "130": 1},
      "ç‘èŠ³å€": {"113": 11, "114": 11, "115": 11, "116": 11, "117": 11, "118": 11, "119": 11, "120": 11, "121": 11, "122": 11, "123": 11, "124": 11, "125": 11, "126": 10, "127": 10, "128": 9, "129": 9, "130": 9},
      "é›™æºªå€": {"113": 4, "114": 4, "115": 4, "116": 4, "117": 4, "118": 4, "119": 4, "120": 4, "121": 4, "122": 4, "123": 4, "124": 3, "125": 3, "126": 3, "127": 3, "128": 3, "129": 3, "130": 3},
      "è²¢å¯®å€": {"113": 5, "114": 5, "115": 5, "116": 4, "117": 4, "118": 3, "119": 3, "120": 3, "121": 2, "122": 2, "123": 2, "124": 2, "125": 2, "126": 2, "127": 2, "128": 2, "129": 2, "130": 2},
      "å¹³æºªå€": {"113": 3, "114": 3, "115": 3, "116": 3, "117": 3, "118": 3, "119": 3, "120": 2, "121": 2, "122": 2, "123": 2, "124": 1, "125": 1, "126": 1, "127": 1, "128": 1, "129": 1, "130": 1},
      "çŸ³é–€å€": {"113": 3, "114": 3, "115": 3, "116": 3, "117": 3, "118": 3, "119": 3, "120": 3, "121": 3, "122": 3, "123": 3, "124": 3, "125": 3, "126": 3, "127": 3, "128": 3, "129": 3, "130": 2},
      "ä¸‰èŠå€": {"113": 3, "114": 3, "115": 3, "116": 3, "117": 3, "118": 3, "119": 3, "120": 3, "121": 2, "122": 2, "123": 2, "124": 2, "125": 2, "126": 2, "127": 2, "128": 2, "129": 2, "130": 2},
      "æ–°èŠå€": {"113": 16, "114": 16, "115": 16, "116": 16, "117": 16, "118": 16, "119": 16, "120": 16, "121": 16, "122": 16, "123": 16, "124": 16, "125": 16, "126": 16, "127": 16, "128": 16, "129": 16, "130": 16},
      "æ³°å±±å€": {"113": 4, "114": 4, "115": 4, "116": 4, "117": 4, "118": 4, "119": 4, "120": 4, "121": 4, "122": 4, "123": 4, "124": 4, "125": 4, "126": 4, "127": 4, "128": 4, "129": 4, "130": 4},
      "äº”è‚¡å€": {"113": 4, "114": 4, "115": 4, "116": 4, "117": 4, "118": 4, "119": 4, "120": 4, "121": 4, "122": 4, "123": 4, "124": 4, "125": 4, "126": 4, "127": 4, "128": 4, "129": 4, "130": 4},
      "è˜†æ´²å€": {"113": 5, "114": 5, "115": 5, "116": 5, "117": 5, "118": 5, "119": 5, "120": 5, "121": 5, "122": 5, "123": 5, "124": 5, "125": 5, "126": 5, "127": 5, "128": 5, "129": 5, "130": 5},
      "ä¸‰é‡å€": {"113": 14, "114": 14, "115": 14, "116": 14, "117": 14, "118": 14, "119": 14, "120": 14, "121": 14, "122": 14, "123": 14, "124": 14, "125": 14, "126": 14, "127": 14, "128": 14, "129": 14, "130": 14}
    };

    const yearlyStudents = {
      "æ·¡æ°´å€": {"113": 8924, "114": 8254, "115": 8302, "116": 8350, "117": 8398, "118": 8446, "119": 8494, "120": 8542, "121": 8590, "122": 8638, "123": 8686, "124": 8734, "125": 8782, "126": 8830, "127": 8878, "128": 8926, "129": 8974, "130": 9022},
      "æ–°åº—å€": {"113": 13010, "114": 13032, "115": 13035, "116": 13038, "117": 13041, "118": 13044, "119": 13047, "120": 13050, "121": 13053, "122": 13056, "123": 13059, "124": 13070, "125": 13081, "126": 13092, "127": 13103, "128": 13114, "129": 13125, "130": 13136},
      "åœŸåŸå€": {"113": 13214, "114": 13247, "115": 13455, "116": 13663, "117": 13871, "118": 14079, "119": 14287, "120": 14495, "121": 14703, "122": 14911, "123": 15119, "124": 15327, "125": 15535, "126": 15743, "127": 15951, "128": 16159, "129": 16367, "130": 16575},
      "æ—å£å€": {"113": 10596, "114": 10214, "115": 10410, "116": 10606, "117": 10802, "118": 10998, "119": 11194, "120": 11390, "121": 11586, "122": 11782, "123": 11981, "124": 12184, "125": 12387, "126": 12590, "127": 12793, "128": 12996, "129": 13199, "130": 13402},
      "æ°¸å’Œå€": {"113": 14093, "114": 14072, "115": 14018, "116": 13964, "117": 13910, "118": 13856, "119": 13802, "120": 13748, "121": 13694, "122": 13640, "123": 13586, "124": 13532, "125": 13478, "126": 13424, "127": 13370, "128": 13316, "129": 13262, "130": 13208},
      "å…«é‡Œå€": {"113": 2360, "114": 2400, "115": 2431, "116": 2462, "117": 2493, "118": 2524, "119": 2555, "120": 2586, "121": 2617, "122": 2648, "123": 2679, "124": 2710, "125": 2741, "126": 2772, "127": 2803, "128": 2834, "129": 2865, "130": 2896},
      "çƒä¾†å€": {"113": 206, "114": 211, "115": 214, "116": 217, "117": 220, "118": 223, "119": 226, "120": 229, "121": 232, "122": 235, "123": 238, "124": 241, "125": 244, "126": 247, "127": 250, "128": 253, "129": 256, "130": 259},
      "ä¸‰å³½å€": {"113": 6859, "114": 6876, "115": 6860, "116": 6844, "117": 6828, "118": 6812, "119": 6796, "120": 6780, "121": 6764, "122": 6748, "123": 6732, "124": 6720, "125": 6709, "126": 6698, "127": 6688, "128": 6682, "129": 6676, "130": 6670},
      "æ¿æ©‹å€": {"113": 29098, "114": 29250, "115": 29326, "116": 29402, "117": 29478, "118": 29554, "119": 29630, "120": 29706, "121": 29782, "122": 29858, "123": 29934, "124": 30010, "125": 30086, "126": 30162, "127": 30238, "128": 30314, "129": 30390, "130": 30466},
      "æ¨¹æ—å€": {"113": 9533, "114": 9550, "115": 9548, "116": 9546, "117": 9544, "118": 9542, "119": 9540, "120": 9538, "121": 9536, "122": 9534, "123": 9532, "124": 9530, "125": 9528, "126": 9526, "127": 9524, "128": 9522, "129": 9520, "130": 9518},
      "é¶¯æ­Œå€": {"113": 4828, "114": 4868, "115": 4892, "116": 4916, "117": 4940, "118": 4964, "119": 4988, "120": 5012, "121": 5036, "122": 5060, "123": 5084, "124": 5108, "125": 5132, "126": 5156, "127": 5180, "128": 5204, "129": 5228, "130": 5252},
      "ä¸­å’Œå€": {"113": 15002, "114": 15085, "115": 15143, "116": 15201, "117": 15259, "118": 15317, "119": 15375, "120": 15433, "121": 15491, "122": 15549, "123": 15607, "124": 15665, "125": 15723, "126": 15781, "127": 15839, "128": 15897, "129": 15955, "130": 16013},
      "æ±æ­¢å€": {"113": 8443, "114": 8512, "115": 8573, "116": 8634, "117": 8695, "118": 8756, "119": 8817, "120": 8878, "121": 8939, "122": 9000, "123": 9061, "124": 9122, "125": 9183, "126": 9244, "127": 9305, "128": 9366, "129": 9427, "130": 9488},
      "è¬é‡Œå€": {"113": 419, "114": 409, "115": 395, "116": 381, "117": 367, "118": 353, "119": 340, "120": 331, "121": 322, "122": 313, "123": 308, "124": 303, "125": 298, "126": 293, "127": 288, "128": 283, "129": 278, "130": 273},
      "é‡‘å±±å€": {"113": 635, "114": 621, "115": 591, "116": 561, "117": 531, "118": 501, "119": 471, "120": 441, "121": 411, "122": 381, "123": 369, "124": 376, "125": 383, "126": 390, "127": 397, "128": 404, "129": 411, "130": 418},
      "æ·±å‘å€": {"113": 814, "114": 807, "115": 799, "116": 791, "117": 783, "118": 775, "119": 767, "120": 759, "121": 751, "122": 743, "123": 735, "124": 727, "125": 719, "126": 711, "127": 703, "128": 695, "129": 687, "130": 679},
      "çŸ³ç¢‡å€": {"113": 227, "114": 237, "115": 243, "116": 249, "117": 255, "118": 261, "119": 267, "120": 273, "121": 279, "122": 285, "123": 291, "124": 297, "125": 303, "126": 309, "127": 315, "128": 321, "129": 327, "130": 333},
      "åªæ—å€": {"113": 103, "114": 106, "115": 108, "116": 110, "117": 112, "118": 114, "119": 116, "120": 118, "121": 120, "122": 122, "123": 124, "124": 126, "125": 128, "126": 130, "127": 132, "128": 134, "129": 136, "130": 138},
      "ç‘èŠ³å€": {"113": 1335, "114": 1328, "115": 1313, "116": 1298, "117": 1283, "118": 1268, "119": 1253, "120": 1238, "121": 1223, "122": 1208, "123": 1193, "124": 1178, "125": 1163, "126": 1148, "127": 1134, "128": 1120, "129": 1107, "130": 1094},
      "é›™æºªå€": {"113": 150, "114": 145, "115": 136, "116": 127, "117": 118, "118": 109, "119": 100, "120": 91, "121": 82, "122": 73, "123": 64, "124": 62, "125": 62, "126": 62, "127": 62, "128": 62, "129": 62, "130": 62},
      "è²¢å¯®å€": {"113": 147, "114": 138, "115": 123, "116": 108, "117": 96, "118": 85, "119": 77, "120": 69, "121": 61, "122": 56, "123": 51, "124": 46, "125": 41, "126": 36, "127": 31, "128": 26, "129": 21, "130": 16},
      "å¹³æºªå€": {"113": 78, "114": 79, "115": 76, "116": 73, "117": 70, "118": 67, "119": 64, "120": 63, "121": 63, "122": 63, "123": 63, "124": 63, "125": 65, "126": 67, "127": 69, "128": 71, "129": 73, "130": 75},
      "çŸ³é–€å€": {"113": 144, "114": 139, "115": 134, "116": 129, "117": 124, "118": 119, "119": 114, "120": 109, "121": 104, "122": 99, "123": 94, "124": 89, "125": 84, "126": 79, "127": 74, "128": 69, "129": 64, "130": 59},
      "ä¸‰èŠå€": {"113": 764, "114": 744, "115": 715, "116": 686, "117": 657, "118": 628, "119": 599, "120": 570, "121": 546, "122": 525, "123": 504, "124": 483, "125": 462, "126": 441, "127": 420, "128": 399, "129": 378, "130": 357},
      "æ–°èŠå€": {"113": 24488, "114": 24888, "115": 25074, "116": 25260, "117": 25446, "118": 25632, "119": 25818, "120": 26004, "121": 26190, "122": 26376, "123": 26562, "124": 26748, "125": 26934, "126": 27120, "127": 27306, "128": 27492, "129": 27678, "130": 27864},
      "æ³°å±±å€": {"113": 4087, "114": 4008, "115": 3911, "116": 3814, "117": 3717, "118": 3620, "119": 3523, "120": 3426, "121": 3329, "122": 3232, "123": 3135, "124": 3038, "125": 2941, "126": 2844, "127": 2747, "128": 2650, "129": 2553, "130": 2456},
      "äº”è‚¡å€": {"113": 4436, "114": 4511, "115": 4563, "116": 4615, "117": 4667, "118": 4719, "119": 4771, "120": 4823, "121": 4875, "122": 4927, "123": 4979, "124": 5031, "125": 5083, "126": 5135, "127": 5187, "128": 5239, "129": 5291, "130": 5343},
      "è˜†æ´²å€": {"113": 10730, "114": 10699, "115": 10654, "116": 10609, "117": 10564, "118": 10519, "119": 10474, "120": 10429, "121": 10384, "122": 10339, "123": 10294, "124": 10249, "125": 10204, "126": 10159, "127": 10114, "128": 10069, "129": 10024, "130": 9979},
      "ä¸‰é‡å€": {"113": 17760, "114": 17868, "115": 17927, "116": 17986, "117": 18045, "118": 18104, "119": 18163, "120": 18222, "121": 18281, "122": 18340, "123": 18399, "124": 18458, "125": 18517, "126": 18576, "127": 18635, "128": 18694, "129": 18753, "130": 18812}
    };

    const colors = [
      '#3B82F6', '#EF4444', '#10B981', '#F59E0B', '#8B5CF6',
      '#EC4899', '#06B6D4', '#84CC16', '#F97316', '#6366F1',
      '#14B8A6', '#A855F7', '#22C55E', '#EAB308', '#0EA5E9',
      '#D946EF', '#64748B', '#FB7185', '#4ADE80', '#FBBF24',
      '#A78BFA', '#2DD4BF', '#FB923C', '#818CF8', '#34D399',
      '#C084FC', '#38BDF8', '#4F46E5', '#059669'
    ];

    const districtColors = {};
    Object.keys(yearlyStudents).forEach((district, i) => {
      districtColors[district] = colors[i % colors.length];
    });

    const years = ['113', '114', '115', '116', '117', '118', '119', '120', '121', '122', '123', '124', '125', '126', '127', '128', '129', '130'];

    function App() {
      const [currentYearIndex, setCurrentYearIndex] = useState(0);
      const [isPlaying, setIsPlaying] = useState(false);
      const [sortOrder, setSortOrder] = useState('desc');
      
      useEffect(() => {
        let interval;
        if (isPlaying) {
          interval = setInterval(() => {
            setCurrentYearIndex(prev => {
              if (prev >= years.length - 1) {
                setIsPlaying(false);
                return prev;
              }
              return prev + 1;
            });
          }, 800);
        }
        return () => clearInterval(interval);
      }, [isPlaying]);

      const currentYear = years[currentYearIndex];
      
      const sortedData = Object.entries(yearlyStudents)
        .map(([district, data]) => {
          const students113 = data['113'];
          const studentsNow = data[currentYear];
          const schools113 = schoolCount113[district];
          const schoolsNow = yearlySchoolCount[district][currentYear];
          
          return {
            district,
            students: studentsNow,
            students113: students113,
            studentsDiff: studentsNow - students113,
            schools: schoolsNow,
            schools113: schools113,
            schoolsDiff: schoolsNow - schools113,
            color: districtColors[district]
          };
        })
        .sort((a, b) => sortOrder === 'desc' ? b.students - a.students : a.students - b.students);
      
      const maxStudents = Math.max(...sortedData.map(d => d.students));

      const totalSchools113 = Object.values(schoolCount113).reduce((a, b) => a + b, 0);
      const totalSchoolsNow = Object.values(yearlySchoolCount).reduce((sum, d) => sum + d[currentYear], 0);

      return (
        <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white p-2 sm:p-3 md:p-4">
          <div className="max-w-6xl mx-auto">
            <h1 className="text-lg sm:text-xl md:text-2xl font-bold text-center mb-0.5 bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent">
              æ–°åŒ—å¸‚åœ‹å°å­¸ç”Ÿäººæ•¸é ä¼°
            </h1>
            <p className="text-center text-slate-400 mb-2 text-xs">
              <br className="sm:hidden" />
              å…± 29 å€ã€{totalSchoolsNow} æ‰€å­¸æ ¡
              {totalSchoolsNow !== totalSchools113 && (
                <span className="text-red-300 ml-1">
                  (è¼ƒ113å¹´ {totalSchoolsNow - totalSchools113})
                </span>
              )}
            </p>
            
            <div className="flex justify-center gap-2 mb-2">
              <span className="text-slate-400 flex items-center text-xs">æ’åºï¼š</span>
              <button
                onClick={() => setSortOrder('desc')}
                className={`px-2 sm:px-3 py-1 rounded-lg font-medium transition-all text-xs ${
                  sortOrder === 'desc' 
                    ? 'bg-amber-500 text-white shadow-lg shadow-amber-500/30' 
                    : 'bg-slate-700 text-slate-300 hover:bg-slate-600'
                }`}
              >
                â¬‡ï¸ å¾é«˜åˆ°ä½
              </button>
              <button
                onClick={() => setSortOrder('asc')}
                className={`px-2 sm:px-3 py-1 rounded-lg font-medium transition-all text-xs ${
                  sortOrder === 'asc' 
                    ? 'bg-amber-500 text-white shadow-lg shadow-amber-500/30' 
                    : 'bg-slate-700 text-slate-300 hover:bg-slate-600'
                }`}
              >
                â¬†ï¸ å¾ä½åˆ°é«˜
              </button>
            </div>

            <div className="bg-slate-800/50 rounded-xl p-2 sm:p-3 backdrop-blur border border-slate-700">
              <div className="flex items-center justify-between mb-2">
                <h2 className="text-sm sm:text-base font-semibold">å„å€å­¸ç”Ÿäººæ•¸å‹•æ…‹æ’å</h2>
                <div className="text-2xl sm:text-3xl md:text-4xl font-bold text-emerald-400 font-mono">
                  {currentYear} å­¸å¹´åº¦
                </div>
              </div>
              
              <div className="flex items-center gap-2 mb-2 flex-wrap">
                <button
                  onClick={() => {
                    if (currentYearIndex >= years.length - 1) {
                      setCurrentYearIndex(0);
                    }
                    setIsPlaying(!isPlaying);
                  }}
                  className={`px-3 py-1 rounded-full font-medium transition-all text-xs ${
                    isPlaying 
                      ? 'bg-red-500 hover:bg-red-600' 
                      : 'bg-emerald-500 hover:bg-emerald-600'
                  }`}
                >
                  {isPlaying ? 'â¸ æš«åœ' : 'â–¶ æ’­æ”¾'}
                </button>
                
                <button
                  onClick={() => { setCurrentYearIndex(0); setIsPlaying(false); }}
                  className="px-2 py-1 rounded-full bg-slate-600 hover:bg-slate-500 transition-all text-xs"
                >
                  â® é‡ç½®
                </button>
              </div>
              
              <div className="mb-2">
                <input
                  type="range"
                  min={0}
                  max={years.length - 1}
                  value={currentYearIndex}
                  onChange={(e) => setCurrentYearIndex(Number(e.target.value))}
                  className="w-full h-1 bg-slate-700 rounded-lg cursor-pointer"
                />
                <div className="flex justify-between text-xs text-slate-500">
                  {years.map((y, i) => (
                    <span key={y} className={`year-label ${i === currentYearIndex ? 'text-emerald-400 font-bold' : ''}`}>
                      {y}
                    </span>
                  ))}
                </div>
              </div>
              
              <div className="space-y-px">
                {sortedData.map((item, index) => (
                  <div 
                    key={item.district} 
                    className="bar-row flex items-center gap-1 sm:gap-1.5 px-1 py-0.5 cursor-pointer relative"
                  >
                    <span className="w-4 sm:w-5 text-right text-slate-400 text-xs font-mono">{index + 1}</span>
                    <span className="district-name w-10 sm:w-12 text-right font-medium text-xs truncate text-slate-200 transition-all duration-200">{item.district}</span>
                    <div className="flex-1 h-4 sm:h-5 bg-slate-700/50 rounded overflow-hidden relative">
                      <div
                        className="h-full rounded flex items-center transition-all duration-500 ease-out"
                        style={{
                          width: `${(item.students / maxStudents) * 100}%`,
                          backgroundColor: item.color
                        }}
                      >
                      </div>
                      <span className="absolute right-1 sm:right-1.5 top-1/2 -translate-y-1/2 text-xs font-bold text-white drop-shadow whitespace-nowrap">
                        <span className="hidden sm:inline">{item.students.toLocaleString()}äºº</span>
                        <span className="sm:hidden">{(item.students/1000).toFixed(1)}k</span>
                        <span className={`ml-0.5 sm:ml-1 ${item.studentsDiff > 0 ? 'text-emerald-300' : item.studentsDiff < 0 ? 'text-red-300' : 'text-slate-300'}`}>
                          <span className="hidden md:inline">({item.studentsDiff > 0 ? '+' : ''}{item.studentsDiff.toLocaleString()})</span>
                          <span className="md:hidden">({item.studentsDiff > 0 ? '+' : ''}{Math.round(item.studentsDiff/100)/10}k)</span>
                        </span>
                      </span>
                    </div>
                    <span className="school-count w-12 sm:w-16 text-xs text-slate-400 whitespace-nowrap transition-all duration-200">
                      {item.schools}æ ¡
                      {item.schoolsDiff !== 0 && (
                        <span className={item.schoolsDiff > 0 ? 'text-emerald-300' : 'text-red-300'}>
                          ({item.schoolsDiff > 0 ? '+' : ''}{item.schoolsDiff})
                        </span>
                      )}
                    </span>
                  </div>
                ))}
              </div>
              
              <div className="mt-2 sm:mt-3 p-2 bg-slate-700/30 rounded-lg text-xs">
                <h3 className="font-semibold mb-0.5 text-slate-300">ğŸ“ˆ è¶¨å‹¢è§€å¯Ÿï¼ˆèˆ‡113å­¸å¹´åº¦æ¯”è¼ƒï¼‰</h3>
                <div className="text-slate-400 flex flex-wrap gap-x-2 sm:gap-x-4">
                  <span>â€¢ <span className="text-blue-400">æ¿æ©‹å€</span>æŒçºŒç¬¬ä¸€</span>
                  <span>â€¢ <span className="text-emerald-400">åœŸåŸã€æ—å£</span>å¿«é€Ÿæˆé•·</span>
                  <span>â€¢ <span className="text-red-400">è²¢å¯®ã€å¹³æºª</span>å­¸æ ¡è£ä½µ</span>
                </div>
              </div>
            </div>
            
            <div className="mt-2 text-center text-slate-500 text-xs">
              è³‡æ–™æœŸé–“ï¼š113~130å­¸å¹´åº¦ï¼ˆæ¨ä¼°ï¼‰ | 
              <a href="https://g0v.hackmd.io/TG6CtrxyRdudWawzTXfPiw?view" target="_blank" rel="noopener noreferrer" className="text-slate-400 hover:text-slate-300 underline ml-1">ç¸½çµ±ç›ƒé»‘å®¢æ¾è¨ˆç•«</a>
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
